<ion-header>
  <ion-toolbar>
    <ion-title>profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  User profile here
  <div>
    <h3>Total Price : {{ totalPrice }} Â£</h3>
    <h3>Customer information:</h3>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <label>
        First Name:
        <!-- <input type="text" formControlName="firstName" required> -->
        <input
          type="texyt"
          id="firstName"
          class="form-control"
          formControlName="firstName"
          required
        />

        <div
          *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
          class="alert alert-danger"
        >
          <div *ngIf="firstName.errors.required">Name is required.</div>
          <div *ngIf="firstName.errors.minlength">
            Name must be at least 4 characters long.
          </div>
        </div> </label
      ><br />
      <label>
        Last Name: <input type="text" formControlName="lastName" /> </label
      ><br />
      <label>
        Email:
        <input type="text" formControlName="email" required />
        <div
          *ngIf="email.invalid && (email.dirty || email.touched)"
          class="alert alert-danger"
        >
          <div *ngIf="email.errors.required">Email required.</div>
          <div *ngIf="email.errors.pattern">Email not valid.</div>
        </div> </label
      ><br />

      <!-- grouping the nested form in the template -->
      <div formGroupName="address">
        <h5>Address</h5>
        <label> Street: <input type="text" formControlName="street" /> </label
        ><br />
        <label> City: <input type="text" formControlName="city" /> </label
        ><br />
        <label> Zip Code: <input type="text" formControlName="zip" /> </label
        ><br />
      </div>
      <br />

      <button
        type="submit"
        (click)="onSubmit()"
        [disabled]="!profileForm.valid"
      >
        Submit
      </button>
      <app-payment *ngIf="isValidFormSubmitted"></app-payment>
    </form>
  </div>
</ion-content>
